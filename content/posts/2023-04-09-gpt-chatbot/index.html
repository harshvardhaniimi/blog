---
title: 'Crafting Conversations with GPT Personalities in Python'
subtitle: "Building a customizable chatbot that brings unique characters to life"
summary: "Building a customizable chatbot that brings unique characters to life"
author: Harshvardhan
date: '2023-04-09'
slug: gpt-chatbot
categories:
  - coding
  - life
  - thoughts
  - Python
  - ai
tags: []
---



<p><img src="images/_6e255fc0-e6d6-4cbc-aa44-5457895e8251.jpeg" /></p>
<p>Imagine chatting with your pet cat, discussing non-violence with Mahatma Gandhi, or seeking therapy from a virtual counselor named Isha. I created a GPT Chatbot which lets you engage in conversation with various personalities from history and beyond, all from the comfort of your own Terminal.</p>
<p>Curious to know how it works? I’m here to walk you through the entire process, step by step. <em>Avast ye, let’s weigh anchor and set sail!</em></p>
<div id="getting-started" class="section level2">
<h2>Getting Started</h2>
<p>First things first, you’ll need to get your hands on the chatbot. Simply follow these straightforward steps:</p>
<ol style="list-style-type: decimal">
<li><p>Clone the repo or <a href="https://github.com/harshvardhaniimi/gpt-chatbot">download the zip from GitHub</a> (look for the green button on the top right).</p>
<p><img src="images/Screenshot%202023-04-09%20at%202.59.50%20AM.png" /></p></li>
<li><p>Install the requirements by running <code>pip install -r requirements.txt</code>. You must execute this in the same Python environment as your usual Python.</p>
<p>For Anaconda users, this would mean running <code>conda env list</code> to get list of all environments. Then choose the right environment with <code>conda activate env_name</code>.</p>
<p><img src="images/Screenshot%202023-04-09%20at%203.05.11%20AM.png" /></p></li>
<li><p>Obtain OpenAI API keys from <a href="https://platform.openai.com/account/api-keys" class="uri">https://platform.openai.com/account/api-keys</a> and place them in the Python script called <code>openai_keys_user.py</code>. (The benefit of keeping keys in a separate file is that you can share the app without its keys.)</p></li>
<li><p>Navigate to the directory where you downloaded the repository. You can use <code>cd path/to/folder</code> for this.</p>
<p><img src="images/Screenshot%202023-04-09%20at%203.05.11%20AM-01.png" /></p></li>
<li><p>Run the script with <code>python3 app.py</code>.</p></li>
<li><p>That’s it! Now you’re ready to choose a personality to talk to and have a blast.</p></li>
</ol>
<p>Remember, if you need help, feel free to ask ChatGPT or comment below.</p>
<div id="mahatma-gandhi" class="section level3">
<h3>Mahatma Gandhi</h3>
<p><img src="images/Screenshot%202023-04-09%20at%203.11.58%20AM.png" /></p>
</div>
<div id="gary-my-cat" class="section level3">
<h3>Gary, my Cat</h3>
<p>I really want to have a cat but it’s too much responsibility. Further, wild &gt;&gt; pets.</p>
<p>Gary is fascinating to talk to. I’ve noticed that talking to the cat (<code>cat_prompt.txt</code>) is especially enjoyable when using GPT-4, though the current app is based on GPT-3.5-turbo. Once I gain access to the GPT-4 API, I’ll be sure to update the app accordingly.</p>
<p>I asked Gary to describe itself.</p>
<p><img src="images/Screenshot%202023-04-09%20at%203.18.27%20AM.png" /></p>
</div>
</div>
<div id="how-does-it-work" class="section level2">
<h2>How does it work?</h2>
<p>You might be wondering how this chatbot works. Well, it’s all thanks to the OpenAI API, which is responsible for generating text. Here’s <code>app.py</code>: <a href="https://github.com/harshvardhaniimi/gpt-chatbot/blob/main/app.py">gpt-chatbot/app.py</a></p>
<p>The code outlines the core functions needed to run the chatbot, generate responses, and manage conversation flow. The primary function in this implementation is `response(), which takes a list of messages as input and generates a response using the GPT-3.5-turbo model from OpenAI.</p>
<p>The messages are structured as a list of dictionaries containing a “role” (either “system”, “user”, or “assistant”) and the message “content”. The function returns the generated message and its role. To add a message to the list of messages, the add _message() function is utilized, taking the current list of messages, a new message, and the role associated with the message as arguments.</p>
<p>The <code>execute_chatbot()</code> function handles user interaction, providing a choice of chatbot personalities and managing the conversation loop. Depending on the user’s choice, a system message is created to define the chatbot’s personality.</p>
<p>Then, the conversation loop begins, utilizing the <code>response()</code> and <code>add_message()</code> functions to generate responses and manage the flow of the conversation. The user can type ‘exit’ at any time to end the conversation.</p>
</div>
<div id="whats-next" class="section level2">
<h2>What’s Next?</h2>
<p>In wrapping up, this chatbot serves as a fun and adaptable space for users to engage with a variety of AI personalities, such as a wise therapist, renowned historical figures, and even a quirky talking cat. The showcased code is a testament to how straightforward and efficient the process can be with the help of GPT-3.5-turbo and OpenAI’s API.</p>
<p>As I’m always looking for ways to improve and expand this chatbot, I would love to add more personalities to chat with. If you have any suggestions or ideas for new characters and improvements, don’t hesitate to open an issue on the GitHub repo.</p>
<hr />
<p><em>ChatGPT and Gandhi’s advices were used in writing this post.</em></p>
</div>
